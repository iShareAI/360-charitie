<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ken Sargent House — Ishare 360°</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@600;700&family=Poppins:wght@700;800&display=swap" rel="stylesheet">

   <style>
    html, body { height: 100%; margin: 0; }
    body { background: #ffffff; font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans"; }

    
    
    
    
    
    
    /* Centered responsive container */
    #viewer {
      position: relative;
      width: min(1200px, 95vw);
      aspect-ratio: 16 / 9;
      margin: 20px auto 16px;
      background: #000;
      border: none;                /* no frame around iframe */
      border-radius: 12px;
      overflow: hidden;
    }

    /* Fill the container */
    #viewer iframe {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      border: none !important;
      outline: none;
      box-shadow: none;
    }
    /* Hairline border on HiDPI for extra crispness */
    
      /* Full-width table styles */
    .table-wrap { width: min(1200px, 95vw); margin: 16px auto 48px; }
    .naming-table { width: 100%; border-collapse: collapse; font-size: 16px; }
    .naming-table thead th { background: #f6f7f9; color: #111; text-align: left; padding: 8px 16px; border-bottom: 1px solid #e6e8eb; font-weight: 600; }
    .naming-table tbody td { padding: 9.6px 16px; border-bottom: 1px solid #e6e8eb; }
    .naming-table td.cost, .naming-table td.avail { text-align: right; white-space: nowrap; }
    .naming-table tbody tr:nth-child(even) { background: transparent; }
      .naming-table tbody tr:hover { background: #f9fafb; }
      /* Section titles */
    .section { width: min(1200px, 95vw); margin: 16px auto 8px; }
   .page-title {
  text-align: left;
  font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  font-weight: 600;                 /* вместо 800 — мягче */
  line-height: 1.2;
  letter-spacing: 0;
  margin: 6px 0 10px;
  font-size: clamp(22px, 3.4vw, 34px);
  position: relative;
  animation: fadeUp .7s ease both;
  color: #0f172a;                   /* спокойный тёмный */
}

.page-title:before {
  content: none;                    /* убираем боковую полоску */
}

.page-title .accent {
  color: #0f172a;                   /* обычный тёмный текст */
  background: none;
  -webkit-text-fill-color: initial;
}

.page-title .muted {
  color: #475569;                   /* приглушённый серый */
  font-weight: 500;
}

    @keyframes fadeUp { from { opacity: 0; transform: translateY(10px);} to { opacity: 1; transform: none; } }
    .table-title { text-align: left; font-family: 'Inter', system-ui; font-weight: 700; margin: 12px auto 8px; width: min(1200px,95vw); animation: fadeUp .7s ease .1s both; }
    .naming-table tbody tr { opacity: 0; transform: translateY(8px); animation: fadeUp .5s ease forwards; }
    .naming-table tbody tr:nth-child(1)  { animation-delay: .05s; }
    .naming-table tbody tr:nth-child(2)  { animation-delay: .10s; }
    .naming-table tbody tr:nth-child(3)  { animation-delay: .15s; }
    .naming-table tbody tr:nth-child(4)  { animation-delay: .20s; }
    .naming-table tbody tr:nth-child(5)  { animation-delay: .25s; }
    .naming-table tbody tr:nth-child(6)  { animation-delay: .30s; }
    .naming-table tbody tr:nth-child(7)  { animation-delay: .35s; }
    .naming-table tbody tr:nth-child(8)  { animation-delay: .40s; }
    .naming-table tbody tr:nth-child(9)  { animation-delay: .45s; }
    .naming-table tbody tr:nth-child(10) { animation-delay: .50s; }
    .naming-table tbody tr:nth-child(11) { animation-delay: .55s; }
    .naming-table tbody tr:nth-child(12) { animation-delay: .60s; }
    .naming-table tbody tr:nth-child(13) { animation-delay: .65s; }
    .naming-table tbody tr:nth-child(14) { animation-delay: .70s; }
    .naming-table tbody tr:nth-child(15) { animation-delay: .75s; }
    @media (prefers-reduced-motion: reduce) {
      .page-title, .table-title, .naming-table tbody tr { animation: none !important; opacity: 1; transform: none; }
    }
      /* ——— WORKFLOW BLOCK ——— */
    .wf { width: min(1200px, 95vw); margin: 24px auto 40px; }
    .wf-title { text-align: left; font-family: 'Poppins', 'Inter', system-ui; font-weight: 800; margin: 6px 0 12px; font-size: clamp(18px, 2.6vw, 24px); letter-spacing: .2px; animation: fadeUp .7s ease both; }
    .wf-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 0; align-items: start; }
    .wf-video { position: relative; width: 100%; background: #fff; border-radius: 12px 0 0 12px; overflow: hidden; aspect-ratio: 16 / 9; height: auto; }
    .wf-video iframe { position: absolute; inset: 0; width: 100%; height: 100%; border: 0; outline: none; pointer-events: none; }
    .wf-text { display: flex; flex-direction: column; justify-content: flex-start; gap: 10px; animation: fadeUp .7s ease .1s both; background: none; color: #555; padding: 12px 16px; border-radius: 0 12px 12px 0; }
    .wf-h { font-family: 'Poppins', 'Inter', system-ui; font-weight: 800; margin: 0 0 6px; font-size: clamp(18px, 2.4vw, 22px); color: #2b2b2b; opacity: 0; transform: translateY(8px); animation: fadeUp .6s ease .05s forwards; }
    .wf-lead { margin: 0 0 8px; color: #555; opacity: 0; transform: translateY(8px); animation: fadeUp .6s ease .1s forwards; }
    .wf-steps { list-style: none; padding: 0; margin: 8px 0 0; }
    .wf-steps li { position: relative; padding: 8px 0 8px 14px; border-bottom: 1px solid #eee; opacity: 0; transform: translateY(8px); animation: fadeUp .5s ease forwards; }
    .wf-steps li::before { content: ""; position: absolute; left: 0; top: 12px; width: 6px; height: 6px; border-radius: 50%; background: #4b5cff; opacity: .6; }
    .wf-steps li:nth-child(1) { animation-delay: .05s; }
    .wf-steps li:nth-child(2) { animation-delay: .10s; }
    .wf-steps li:nth-child(3) { animation-delay: .15s; }
    .wf-steps li:nth-child(4) { animation-delay: .20s; }
    .wf-steps li:nth-child(5) { animation-delay: .25s; }
    @media (max-width: 900px) { .wf-grid { grid-template-columns: 1fr; gap: 12px; } .wf-video { border-radius: 12px; } .wf-text { border-radius: 12px; } }
      /* Workflow content extras */
    .wf-sub { font-family: 'Inter', system-ui; font-weight: 700; margin: 10px 0 6px; color: #333; }
    .wf-list { list-style: none; padding: 0; margin: 0 0 6px; }
    .wf-list li { position: relative; padding: 6px 0 6px 14px; border-bottom: 1px solid #e6e8eb; opacity: 0; transform: translateY(6px); animation: fadeUp .5s ease forwards; }
    .wf-list li::before { content: ""; position: absolute; left: 0; top: 13px; width: 6px; height: 6px; border-radius: 50%; background: #9aa5b1; }
    .wf-list li:nth-child(1) { animation-delay: .05s; }
    .wf-list li:nth-child(2) { animation-delay: .10s; }
    .wf-list li:nth-child(3) { animation-delay: .15s; }
    .wf-list li:nth-child(4) { animation-delay: .20s; }
    .wf-list li:nth-child(5) { animation-delay: .25s; }
    .wf-list li:nth-child(6) { animation-delay: .30s; }
    .wf-list li:nth-child(7) { animation-delay: .35s; }
    .wf-list li:nth-child(8) { animation-delay: .40s; }
    .wf-list li:nth-child(9) { animation-delay: .45s; }
    .wf-list li:nth-child(10){ animation-delay: .50s; }
      /* White preload/letterbox mask */
    .wf-mask { display: none !important; }
      /* White mask to hide black letterbox while loading */
    .wf-mask { display: none !important; }
      /* Chessboard (alternating) layout for workflow blocks */
    .wf-grid.alt { grid-template-columns: 1fr 1fr; }
    .wf-grid.alt .wf-video { order: 2; border-radius: 0 12px 12px 0; }
    .wf-grid.alt .wf-text  { order: 1; border-radius: 12px 0 0 12px; }
    @media (max-width: 900px) {
      .wf-grid.alt { grid-template-columns: 1fr; gap: 12px; }
      .wf-grid.alt .wf-video, .wf-grid.alt .wf-text { order: initial; border-radius: 12px; }
    }
      /* —— Stage Four: full‑width video + text below —— */
    .wf-full { width: min(1200px, 95vw); margin: 24px auto 40px; }
    .wf-video.full { border-radius: 12px; background: #fff; aspect-ratio: 16 / 9; position: relative; overflow: hidden; }
    .wf-video.full iframe { position: absolute; inset: 0; width: 100%; height: 100%; border: 0; outline: none; pointer-events: none; }
    .wf-text.wide { background: none; color: #555; padding: 12px 2px 0; border-radius: 12px; }
    .wf-text.wide .wf-h { color: #2b2b2b; }
      /* —— Stage Six: full‑bleed (full screen) video + text below —— */
    .wf-bleed { width: 100vw; margin: 0 calc(50% - 50vw); }
    .hero-video { position: relative; height: 100vh; background: #fff; overflow: hidden; }
    .hero-video iframe { position: absolute; top: 50%; left: 50%; border: 0; outline: none; pointer-events: none; transform: translate(-50%, -50%); }
    /* Cover rules for 16:9: choose dimension by aspect ratio to fill the viewport */
    @media (min-aspect-ratio: 16/9) { .hero-video iframe { width: 100vw; height: 56.25vw; } }
    @media (max-aspect-ratio: 16/9) { .hero-video iframe { width: 177.78vh; height: 100vh; } }

    .naming-table tbody tr[data-pano] { cursor: pointer; }
.naming-table tbody tr.active { background: #eef2ff; }

/* Мини-плеер превью */
.hover-preview {
  position: fixed;                /* якорим к окну, удобнее позиционировать */
  width: 280px;                   /* можно менять, держим 16:9 */
  aspect-ratio: 16 / 9;
  background: #000;
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 10px 30px rgba(15, 23, 42, .25);
  opacity: 0;
  transform: translateY(6px) scale(.98);
  transition: opacity .15s ease, transform .15s ease;
  z-index: 9999;
  pointer-events: none;           /* не перехватывает курсор, чтобы не мигало */
}
.hover-preview.show {
  opacity: 1;
  transform: none;
}
.hover-preview iframe {
  width: 100%;
  height: 100%;
  border: 0;
  outline: none;
}



/* Панель слева оставляем как есть */
.viewer-ui{
  position:absolute; top:12px; left:12px; z-index:2;
  background:rgba(255, 255, 255, 0);
  opacity: 0.5;
  backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px);
  border-radius:10px; padding:8px; pointer-events:auto;
}

/* Селект: белый фон + тёмный текст, чтобы всё читалось */
#panoSelect{
  appearance:none;
  font:500 14px/1.2 system-ui,-apple-system,Segoe UI,Roboto,Arial;
  color:#111;                            /* тёмный текст */
  background:rgba(255,255,255,.96);      /* светлый фон */
  border:1px solid #d1d5db;              /* светлая рамка */
  border-radius:8px;
  padding:8px 32px 8px 10px;
  min-width:240px; max-width:62vw; outline:none;
  box-shadow:0 2px 10px rgba(0,0,0,.12);
}
#panoSelect:focus{ box-shadow:0 0 0 2px rgba(99,102,241,.35); }

/* Короткая подсветка ошибки при выборе пункта без ссылки */
#panoSelect.invalid{
  border-color:#ef4444 !important;
  box-shadow:0 0 0 2px rgba(239,68,68,.35) !important;
}



/* Хедер */




/* Внутренняя обёртка: чуть паддинга справа,
   чтобы меню не липло к самому краю */
.nav-inner{
  width:min(1200px,95vw);
  margin:0 auto;
  display:flex; align-items:center; gap:16px;
  padding:30px 12px;                 /* ← добавили правый (и левый) отступ */
}

/* Лого слева — как было */
.brand img{ display:block; height:32px; width:auto; }

/* МЕНЮ справа */
.nav{
  margin-left:auto;                   /* ← уводим блок меню вправо */
  display:flex; gap:12px;             /* ← расстояние между кнопками */
  justify-content:flex-end;           /* ← прижимаем к правому краю контейнера */
  flex-wrap:wrap;
}

.nav-link{
  color:#e5e7eb; text-decoration:none;
  padding:8px 12px; border-radius:8px;
}
.nav-link:hover,.nav-link.active{ background:#257cff; color:#fff }

@media (max-width:640px){
  .brand img{ height:26px; }
  .nav-link{ padding:6px 10px; font-size:14px; }
}

.nav-link.caps{ text-transform:uppercase; letter-spacing:.02em; }



/* === Philanthropy Hero === */
/* === Hero adapter: делаем hero-phil строгим, как таблицы === */

/* 1) Бейдж на всю ширину (как «инпут» сверху слева) */
.hero-phil.badge-wide .hero-badge{
  display:block;
  width:100%;
  padding:8px 12px;
  background:#f8fafc;
  border:1px solid #e6e8eb;
  color:#111;
  border-radius:6px;
}

/* 2) Акцент под шапку (#0077ff/#257cff) */
.hero-phil.is-brand{ --accent:#257cff; --ring:rgba(37,124,255,.28); }

/* 3) Кнопки — матовый синий и мягкий hover */
.hero-phil .btn-primary{
  background:var(--accent);
  border-color:var(--accent);
  color:#fff;
  box-shadow:0 1px 0 rgba(0,0,0,.03), 0 8px 16px rgba(2,6,23,.12);
}
.hero-phil .btn-primary:hover{ filter:brightness(.96); }
.hero-phil .btn-ghost{ background:#fff; }
.hero-phil .btn-ghost:hover{ background:#f8fafc; }

/* 4) Чуть компактнее вертикальные отступы */
.hero-phil.compact{ padding:12px 14px; }
.hero-phil.compact .hero-lead{ margin-top:6px; }
.hero-phil.compact .hero-stats{ margin-top:8px; gap:8px; }

/* 5) На широких — баланс колонок как в скрине */
@media (min-width: 980px){
  .hero-phil{ grid-template-columns: 1.05fr .95fr; }
}




html { scroll-behavior: smooth; }
/* чтобы заголовок не прятался под липкий header */
#naming { scroll-margin-top: 88px; }  /* подгони число под реальную высоту шапки */
@media (max-width: 640px){
  #naming { scroll-margin-top: 72px; }
}

/* Funding snapshot (чипы, как KPI) */
.hero-funding{
  display:flex; flex-wrap:wrap; gap:10px; margin:10px 0 0; padding:0; list-style:none;
}
.hero-funding li{
  display:flex; gap:8px; align-items:baseline;
  padding:6px 10px; border:1px solid var(--border); border-radius:8px; background:#fff;
}
.hero-funding .k{ font:700 12px/1.1 Inter, system-ui; color:#0f172a; text-transform:uppercase; letter-spacing:.04em; }
.hero-funding .v{ font:600 12px/1.1 Inter, system-ui; color:#475569; }


/* ——— Hero polish ——— */
.hero-phil.luxe{                     /* мягкий «премиум» каркас */
  position:relative; border-radius:12px;
  border:1px solid var(--border); background:#fff;
  padding:14px 16px; display:grid; gap:16px;
}


/* заголовок — лёгкий градиент только на 2-й строке */
.hero-phil .hero-line.gradient{
  background:linear-gradient(90deg,var(--accent) 0%,#9333ea 100%);
  -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent;
}

/* мини-мета под заголовком */
.hero-meta{ display:flex; flex-wrap:wrap; gap:8px; align-items:center;
  color:#475569; font:600 12px/1.2 Inter, system-ui;
}
.hero-meta .dot{ width:4px; height:4px; border-radius:50%; background:#cbd5e1; }

/* KPI-чипы в виде карточек */
.hero-stats.card{
  display:grid; grid-template-columns:repeat(3,minmax(0,1fr));
  gap:10px; margin-top:8px; padding:0; list-style:none;
}
.hero-stats.card li{
  display:flex; align-items:center; gap:10px;
  padding:10px 12px; background:#fff; border:1px solid var(--border);
  border-radius:10px; box-shadow:0 1px 0 rgba(0,0,0,.03);
}
.hero-stats.card li strong{ font:800 18px/1 Inter; color:#0f172a; }
.hero-stats.card li span{ font:600 12px/1.2 Inter; color:#475569; }

/* компактные кнопки */
.hero-ctas .btn{ height:38px; padding:0 14px; border-radius:10px; }
.hero-ctas .btn-outline{ background:transparent; border:1px solid var(--border); color:#0f172a; }
.hero-ctas .btn-outline:hover{ background:#f8fafc; }

@media (max-width:900px){ .hero-stats.card{ grid-template-columns:1fr 1fr; } }


/* Двухколоночный hero: mobile-first */
.hero-phil{
  display:grid;
  grid-template-columns: 1fr;      /* мобильная одна колонка */
  align-items:start;
  gap:18px;
}
@media (min-width: 980px){
  .hero-phil{ grid-template-columns: 360px 1fr; } /* слева бейдж, справа контент */
}


/* Явно укажем области */
.hero-left{ align-self:start; }
.hero-right{ display:flex; flex-direction:column; gap:12px; }

/* Бейдж – компактный, не растягивается по высоте */
.hero-badge{
  display:block; width:100%; height:auto; 
  padding:10px 12px; background:#f8fafc; color:#111;
  border:1px solid #e6e8eb; border-radius:10px;
  font:600 13px/1.2 Inter, system-ui; letter-spacing:.02em;
}

/* Чуть плотнее кпи-чипы */
.hero-stats.card{ margin-top:4px; }



/* лёгкий shimmer у второй строки заголовка */
.hero-phil .hero-line.gradient{
  background:linear-gradient(90deg,var(--accent) 0%,#9333ea 50%,#06b6d4 100%);
  -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent;
  background-size:200% 100%;
  animation:heroShimmer 6s ease-in-out infinite;
}
@keyframes heroShimmer{ 0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%} }

/* мягкий «ореол» за правым столбцом */
.hero-phil.luxe::after{
  content:"";
  position:absolute; inset: -4px -4px -4px 340px;  /* не заезжает под левую рейку */
  pointer-events:none; z-index:0;
  background:radial-gradient(600px 260px at 60% 15%, rgba(37,124,255,.10), transparent 60%);
}
.hero-right{ position:relative; z-index:1; } /* поверх ореола */


.hero-ctas .btn{
  position:relative; border:1px solid transparent; transition:transform .06s ease;
}
.hero-ctas .btn:active{ transform:translateY(1px); }
.hero-ctas .btn-primary:focus-visible{
  box-shadow:0 0 0 6px var(--ring);
}


/* HERO: full-width, no left badge */
.hero-phil .hero-left,
.hero-phil .hero-badge{
  display:none !important;           /* скрыть колонку и сам бейдж */
}

.hero-phil{
  grid-template-columns: 1fr !important; /* одна колонка на всю ширину */
}

.hero-phil .hero-right{
  grid-column: 1 / -1;               /* контент растягивается на весь hero */
  margin: 0; padding-left: 0;        /* без «откушенного» левого поля */
}

/* если где-то остался зазор — подстрахуемся */
.section > .hero-phil{ width:100%; }

/* (опционально) если захочешь убрать цветную рейку слева — раскомментируй: */
/* .hero-phil.luxe::before{ display:none; } */

/* если убрали .hero-left из разметки */
.hero-phil{ grid-template-columns: 1fr; }


/* делаем --ang анимируемым */
@property --ang {
  syntax: "<angle>";
  inherits: false;
  initial-value: 0deg;
}

/* ключевые кадры: 1 полный оборот */
@keyframes nav-ring-spin {
  to { --ang: 1turn; }
}





/* NAV: бегущая обводка при hover/focus */
.nav-link{
  position: relative;
  border-radius: 8px;       /* держим как у тебя */
  isolation: isolate;       /* псевдоэлемент над фоном, но клики проходят */
}

/* рисуем тонкое кольцо поверх кнопки и крутим его конусным градиентом */
.nav-link::before{
  --ring-w: 2px;            /* толщина обводки */

  content: "";
  position: absolute;
  inset: calc(-1 * var(--ring-w));      /* чтобы кольцо не «съедало» padding */
  border-radius: inherit;
  padding: var(--ring-w);

  background: conic-gradient(from var(--ang,0deg),
             #dbeafc, #eae1ff, #d2edf1, #ffffff);

  /* показываем только «кольцо», а центр – прозрачный */
  -webkit-mask: linear-gradient(#000 0 0) content-box,
                 linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
          mask-composite: exclude;

  pointer-events: none;
  opacity: 0;
  transition: opacity .2s ease;
  animation: nav-ring-spin  2.5s linear infinite paused;
}

.nav-link:hover::before,
.nav-link:focus-visible::before{
  opacity: .9;
  animation-play-state: running;
}

@keyframes nav-ring-spin{
  to { --ang: 360deg; }
}

/* уважение к людям с ограничением анимаций: просто мягкая подсветка */
@media (prefers-reduced-motion: reduce){
  .nav-link::before{ animation: none; opacity: 0; }
  .nav-link:hover::before,
  .nav-link:focus-visible::before{ opacity: .6; }
}

/* Фолбэк для очень старых браузеров: тонкая статичная рамка при hover */
@supports not ((mask-composite: exclude) or (-webkit-mask-composite: xor)){
  .nav-link:hover{ outline: 2px solid #8b5cf6; outline-offset: 0; }
}

/* только для кнопок в hero */
.hero-ctas .btn,
.hero-ctas .btn:link,
.hero-ctas .btn:visited,
.hero-ctas .btn:hover,
.hero-ctas .btn:focus,
.hero-ctas .btn:active {
  text-decoration: none;     /* убрать underline */
  color: #fff;               /* на всякий случай зафиксируем белый */
}

/* чуть аккуратнее выравнивание и форма */
.hero-ctas .btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  height: 38px;
  padding: 0 16px;
  border-radius: 9999px;     /* идеально круглые края (можно оставить 10px, если так нужно) */
  line-height: 1;            /* без «подпрыгивания» текста */
}


/* 1) Никогда не даём странице разъезжаться по оси X */
html, body { overflow-x: hidden; }

/* 2) Клипнем декоративный ореол внутри hero, чтобы он не создавал скролл */
.hero-phil { overflow: hidden; }

/* 3) Уточним поведение сеток на узких экранах — карточки могут сжиматься */
.hero-stats.card li,
.hero-funding li { min-width: 0; }      /* разрешаем сжатие */
.hero-stats.card li span { word-break: break-word; }

/* 4) Совсем узкие экраны — в одну колонку, гарантированно без переполнения */
@media (max-width: 420px){
  .hero-stats.card { grid-template-columns: 1fr; }
}

/* 5) «Бегущая» обводка у нав-ссылок не должна влиять на макет */
.nav-link { contain: paint; }           /* изолируем перерисовку псевдоэлемента */


/* не даём странице расползаться по X */
html, body { overflow-x: hidden; }

/* ширина 95vw С УЧЁТОМ padding */
.nav-inner,
.section,
.table-wrap,
#viewer,
.wf,
.wf-full {
  box-sizing: border-box;
}

/* таблицы: не выталкивать контейнер и красиво переносить текст */
.table-wrap { overflow-x: hidden; }           /* или auto, если хочешь горизонтальный скролл только у таблицы */
.naming-table { width: 100%; table-layout: auto; }
.naming-table th, .naming-table td { min-width: 0; }
.naming-table .desc { word-break: break-word; }

/* ореол hero клипим внутри, чтобы не создавать скролл */
.hero-phil { overflow: hidden; }
@media (max-width: 480px){
  .hero-phil.luxe::after{ inset: -2px -2px -2px 120px; }
}

/* общее: нормальная переносимость текста и выравнивание */
.naming-table th, .naming-table td { vertical-align: top; }
.naming-table .desc { white-space: normal; word-break: break-word; overflow-wrap: anywhere; }

/* на мобиле отключаем fade-анимацию строк, чтобы текст не исчезал */
@media (max-width:700px){
  .naming-table tbody tr{
    opacity: 1 !important;
    transform: none !important;
    animation: none !important;
  }
}

/* Мобильная раскладка «карточкой» только для второй таблицы */
@media (max-width:700px){
  .naming-table.stack thead { display: none; }   /* прячем шапку */

  .naming-table.stack tbody tr{
    display: grid;
    grid-template-columns: 1fr auto auto;        /* Space | Cost | # */
    grid-template-areas:
      "space cost avail"
      "desc  desc desc";                          /* описание — на всю ширину */
    gap: 8px 10px;
    padding: 12px 10px;
    border-bottom: 1px solid #e6e8eb;
  }

  .naming-table.stack td{ padding: 0; border: 0; }
  .naming-table.stack td:nth-child(1){ grid-area: space; font-weight: 600; }
  .naming-table.stack td:nth-child(2){ grid-area: cost; text-align: right; white-space: nowrap; }
  .naming-table.stack td:nth-child(3){ grid-area: avail; text-align: right; white-space: nowrap; }
  .naming-table.stack td:nth-child(4){ grid-area: desc;  color:#555; line-height: 1.35; }
}


/* ==== HEADER FX PACK ==== */
:root{
  --hdr-accent:#257cff;
  --hdr-bg: rgba(0,119,255,.78);
  --hdr-blur: 10px;
  --hdr-speed: .25s;                /* базовая скорость анимаций */
}

/* сам header: стекло + плавные переходы */
.site-header{
  position: sticky; top:0; z-index:50;
  background: var(--hdr-bg);
  backdrop-filter: blur(var(--hdr-blur));
  -webkit-backdrop-filter: blur(var(--hdr-blur));
  box-shadow: 0 10px 30px rgba(2,6,23,.10);
  transform: translateZ(0);
  transition:
    background var(--hdr-speed) ease,
    transform .22s ease;            /* для автоскрытия */
}

/* компактный режим при скролле */
.site-header.is-compact .nav-inner{ padding: 10px 12px; }
.site-header .nav-inner{ transition: padding var(--hdr-speed) ease; }
.site-header.is-compact .brand img{ height: 24px; transition: height var(--hdr-speed); }

/* авто-скрытие при скролле вниз */
.site-header.is-hidden{ transform: translateY(-100%); }

/* «бегущая» тонкая линия снизу */
.site-header::after{
  content:"";
  position:absolute; left:0; right:0; bottom:0; height:2px;
  background: linear-gradient(90deg,
    transparent 0%,
    var(--hdr-accent) 20%,
    #9333ea 50%,
    #06b6d4 80%,
    transparent 100%);
  background-size: 200% 100%;
  animation: hdr-shimmer 6s linear infinite;
  opacity:.7; pointer-events:none;
}
@keyframes hdr-shimmer{ to{ background-position:200% 0; } }

/* прогресс-бар прокрутки (добавится скриптом) */
.site-header .scrollbar{
  position:absolute; left:0; bottom:0; height:2px; width:100%;
  transform-origin: 0 50%;
  transform: scaleX(0);
  background: linear-gradient(90deg, var(--hdr-accent), #9333ea);
  pointer-events:none; mix-blend-mode: soft-light;
}

/* маркер, который «ездит» по пунктам меню */
.nav{ position:relative; }
.nav-marker{
  position:absolute; top:50%; transform: translateY(-50%);
  height:34px; border-radius:8px;
  border:1px solid rgba(255,255,255,.35);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.15);
  transition: left .25s ease, width .25s ease, opacity .2s ease;
  opacity:0; pointer-events:none;
}
.nav:hover .nav-marker{ opacity:1; }

/* лёгкий hover у ссылок + твоя «бегущая обводка» остаётся */
.nav-link{ transition: background .15s ease, transform .06s ease; }
.nav-link:active{ transform: translateY(1px); }

/* без лишних движух для тех, кто не любит анимации */
@media (prefers-reduced-motion: reduce){
  .site-header::after, .site-header .scrollbar, .nav-marker{ animation:none; transition:none; }
}



/* глобальные ручки */
.site-header{
  --ring-speed: 1.6s;        /* скорость «бегущей» обводки у пунктов меню */
  --hdr-line-speed: 5s;      /* скорость бегущей линии снизу хедера */
  --hdr-speed: .25s;         /* скорость сжатия/раскрытия хедера */
}

/* привязываем переменные к анимациям */
.nav-link::before{
  animation: nav-ring-spin var(--ring-speed,2.5s) linear infinite paused;
}
.site-header::after{
  animation: hdr-shimmer var(--hdr-line-speed,6s) linear infinite;
}
@media (max-width: 700px){
  .nav-marker{ display:none; }
}
@media (max-width:700px){
  .naming-table.stack tbody tr{ gap:6px 8px; padding:10px; }
  .naming-table.stack .desc{ font-size:14px; line-height:1.35; }
  .naming-table.stack .desc br{ display:none; }  /* режем лишние разрывы */
}

.nav-link:focus-visible{
  outline: 2px solid rgba(255,255,255,.9);
  outline-offset: 2px;
}

.is-hidden{ display:none !important; }


/* Keep buttons in a row with spacing */
.hero-ctas{ display:flex; gap:10px; flex-wrap:wrap; }

/* Pill shape */
.btn-pill{ border-radius:9999px !important; }

/* Orange button */
.hero-ctas .btn.btn-orange{
  background:#ff7a1a !important;
  border-color:#ff7a1a !important;
  color:#fff !important;
  box-shadow:0 8px 24px rgba(255,122,26,.25) !important;
}
.hero-ctas .btn.btn-orange:hover{ filter:brightness(.96); }
.hero-ctas .btn.btn-orange:focus-visible{
  outline:none;
  box-shadow:0 0 0 6px rgba(255,122,26,.28) !important;
}


/* badges + taken rows */
.badge{
  display:inline-flex; align-items:center; gap:6px;
  padding:4px 8px; border-radius:9999px; font:600 12px/1 Inter,system-ui;
  border:1px solid #e5e7eb; background:#fff; color:#334155;
}
.badge-named{ background:#fef3c7; border-color:#fde68a; color:#92400e; }
tr.taken .avail{ color:#ef4444; font-weight:700; }
td.idx{ width:36px; color:#64748b; }



/* Media showcase */
.media-showcase{ width:min(1200px,95vw); margin:28px auto 40px; }
.media-hero{ position:relative; border-radius:16px; overflow:hidden; box-shadow:0 10px 30px rgba(2,6,23,.12); }
.media-hero .frame{ position:relative; aspect-ratio:16/9; background:#000; }
.media-hero iframe{ position:absolute; inset:0; width:100%; height:100%; border:0; outline:0; }
.media-hero .overlay{ position:absolute; inset:0; background:radial-gradient(80% 60% at 70% 0%, rgba(37,124,255,.18), transparent 60%); pointer-events:none; }

.media-title{ margin:14px 2px 8px; font:800 clamp(18px,2.2vw,22px)/1 Poppins,Inter,system-ui; color:#0f172a; }
.media-sub{ margin:0 2px 16px; color:#475569; }

.media-grid{ columns:1; column-gap:12px; }
@media (min-width:560px){ .media-grid{ columns:2; } }
@media (min-width:980px){ .media-grid{ columns:3; } }

.media-card{ display:block; break-inside:avoid; margin:0 0 12px; border-radius:14px; overflow:hidden;
  box-shadow:0 6px 20px rgba(2,6,23,.10); background:#fff; transition:transform .18s ease, box-shadow .18s ease; }
.media-card:hover{ transform:translateY(-2px); box-shadow:0 12px 28px rgba(2,6,23,.16); }
.media-card img{ display:block; width:100%; height:auto; }
.media-cap{ padding:10px 12px; font:600 13px/1.25 Inter,system-ui; color:#334155; }









  </style>
</head>
<body>

<header class="site-header">
  <div class="nav-inner">
    <a class="brand" href="index.html" title="Home">
      <img src="img/lg.png" alt="iShare logo">
    </a>
    <nav class="nav">
      <a href="index.html" class="nav-link">General Hospital</a>
      <a href="ken-sargent-house.html" class="nav-link active">Ken Sargent House</a>
      <a href="brightwell-medical-center.html" class="nav-link">Brightwell Medical Center</a>
      <a href="campus-of-care.html" class="nav-link">Campus of Care</a>
      <i class="nav-marker" aria-hidden="true"></i>
    </nav>
  </div>
</header>

<!-- HERO: 1:1 как на index -->
<div class="section">
  <header class="hero-phil is-brand compact luxe" role="banner" aria-label="Philanthropy hero">
    <div class="hero-right">
      <h1 class="hero-title">
        <span class="hero-line">Ken Sargent House</span>
        <span class="hero-line gradient">Transforming Care Together</span>
      </h1>

      <div class="hero-meta" aria-label="Project meta">
        <span>Grande Prairie, Alberta</span><span class="dot"></span>
        <span>Issued for 50% Client Review — Dec 13, 2024</span><span class="dot"></span>
        <span>2 Storeys</span>
      </div>

      <p class="hero-lead">
        Part of the Grande Prairie Rotary Clubs Wellness Centre campus — supportive housing with private suites and shared amenities.
      </p>

      <div class="hero-ctas">
  <a href="#naming" class="btn btn-primary">Explore Opportunities</a>

  <a href="https://example.com/donation-guide"
     class="btn btn-orange btn-pill"
     target="_blank" rel="noopener"
     title="Discover how to make efficient donation">
    Discover How To Make Efficient Donation
  </a>
</div>



      <ul class="hero-stats card" aria-label="Project highlights">
        <li><strong>17</strong><span>Suites</span></li>
        <li><strong>1,830&nbsp;m²</strong><span>Total Floor Area (16,216&nbsp;ft²)</span></li>
        <li><strong>862&nbsp;m²</strong><span>Building Footprint (9,275&nbsp;ft²)</span></li>
        <li><strong>4,234.8&nbsp;m²</strong><span>Site Area</span></li>
        <li><strong>23</strong><span>Parking Stalls (2 barrier-free)</span></li>
        <li><strong>19</strong><span>Parking Required</span></li>
      </ul>
    </div>
  </header>
</div>



<!-- 360° viewer -->
<div id="viewer" aria-label="360° viewer">
  <iframe id="panoFrame" src="https://app.seekbeak.com/v/ydjWPL4eq32" allowfullscreen referrerpolicy="strict-origin-when-cross-origin"></iframe>
</div>

<!-- Top summary table -->
<div class="section"><h2 class="table-title" id="naming">Naming Opportunities</h2></div>
<div class="table-wrap">
  <table class="naming-table">
   <thead>
  <tr>
    <th>Space</th>
    <th>Cost</th>
    <th># Available</th>
    <th>Donor</th>
  </tr>
</thead>
<tbody>
  <!-- $250,000 -->
  <tr data-pano="https://app.seekbeak.com/v/Xw1LWmR2qL8">
  <td>Family &amp; Patient Communal Space</td>
  <td class="cost">$250,000</td>
  <td class="avail">1</td>
  <td class="donor"></td>
</tr>

  <tr data-pano="">
    <td>Playground</td>
    <td class="cost">$250,000</td>
    <td class="avail">1</td>
    <td class="donor"></td>
  </tr>
  <tr data-pano="">
    <td>Solar Panelling</td>
    <td class="cost">$250,000</td>
    <td class="avail">1</td>
    <td class="donor"></td>
  </tr>

  <!-- $150,000 -->
  <tr data-pano="">
    <td>Dining Area</td>
    <td class="cost">$150,000</td>
    <td class="avail">1</td>
    <td class="donor"></td>
  </tr>
  <tr data-pano="">
    <td>Kitchen</td>
    <td class="cost">$150,000</td>
    <td class="avail">1</td>
    <td class="donor"></td>
  </tr>
  <tr data-pano="">
    <td>Covered Porch</td>
    <td class="cost">$150,000</td>
    <td class="avail">1</td>
    <td class="donor"></td>
  </tr>
  <tr data-pano="">
    <td>Reception</td>
    <td class="cost">$150,000</td>
    <td class="avail">1</td>
    <td class="donor"></td>
  </tr>

  <!-- $100,000 -->
  <tr data-pano="">
    <td>Quiet Space</td>
    <td class="cost">$100,000</td>
    <td class="avail">1</td>
    <td class="donor"></td>
  </tr>

  <!-- $75,000 -->
  <tr data-pano="">
    <td>Suite A2 (Accessible Suite)</td>
    <td class="cost">$75,000</td>
    <td class="avail">1</td>
    <td class="donor"></td>
  </tr>
  <tr data-pano="">
    <td>Suite A3 (Large Suite)</td>
    <td class="cost">$75,000</td>
    <td class="avail">1</td>
    <td class="donor"></td>
  </tr>
  <tr data-pano="">
    <td>Playroom</td>
    <td class="cost">$75,000</td>
    <td class="avail">1</td>
    <td class="donor"></td>
  </tr>

  <!-- $50,000 -->
  <tr data-pano="">
    <td>Bedroom (Suite)</td>
    <td class="cost">$50,000</td>
    <!-- TODO: set the real remaining quantity -->
    <td class="avail">6</td>
    <td class="donor">
      <span class="badge badge-named">Fairview Health Complex Foundation</span>
      <span class="badge badge-named">Aquatera</span>
      <span class="badge badge-named">Canfor</span>
    </td>
  </tr>
  <tr class="taken" data-pano="">
    <td>Fitness Room</td>
    <td class="cost">$50,000</td>
    <td class="avail">0</td>
    <td class="donor"><span class="badge badge-named">Tara Energy Services &amp; Bissel Family Funds</span></td>
  </tr>
  <tr class="taken" data-pano="">
    <td>Laundry Room</td>
    <td class="cost">$50,000</td>
    <td class="avail">0</td>
    <td class="donor"><span class="badge badge-named">Victoria's Attic, Support the Girls</span></td>
  </tr>
  <tr data-pano="">
    <td>Social Space</td>
    <td class="cost">$50,000</td>
    <td class="avail">1</td>
    <td class="donor"></td>
  </tr>
  <tr data-pano="">
    <td>Suite A</td>
    <td class="cost">$50,000</td>
    <td class="avail">1</td>
    <td class="donor"></td>
  </tr>
  <tr data-pano="">
    <td>Suite B</td>
    <td class="cost">$50,000</td>
    <td class="avail">1</td>
    <td class="donor"></td>
  </tr>

  <!-- $25,000 -->
  <tr class="taken" data-pano="">
    <td>Children's Playroom</td>
    <td class="cost">$25,000</td>
    <td class="avail">0</td>
    <td class="donor"><span class="badge badge-named">Catwauk Compression</span></td>
  </tr>
  <tr data-pano="">
    <td>Comfort Corner (Small)</td>
    <td class="cost">$25,000</td>
    <td class="avail">1</td>
    <td class="donor"></td>
  </tr>
  <tr class="taken" data-pano="">
    <td>Comfort Corner</td>
    <td class="cost">$25,000</td>
    <td class="avail">0</td>
    <td class="donor">
      <span class="badge badge-named">Dynamud Logistic Services Inc.</span>
      <span class="badge badge-named">Clearhills County</span>
    </td>
  </tr>
  <tr class="taken" data-pano="">
    <td>Gazebo</td>
    <td class="cost">$25,000</td>
    <td class="avail">0</td>
    <td class="donor"><span class="badge badge-named">Game Host</span></td>
  </tr>
  <tr class="taken" data-pano="">
    <td>Pantry</td>
    <td class="cost">$25,000</td>
    <td class="avail">0</td>
    <td class="donor"><span class="badge badge-named">NuVista Energy</span></td>
  </tr>
</tbody>




  </table>
</div>



<!-- MEDIA SHOWCASE -->
<section class="media-showcase" id="showcase">
  <!-- Big hero video -->
  <div class="media-hero">
    <div class="frame">
      <iframe
        src="https://www.youtube.com/embed/XpV5CmB3bvw?autoplay=1&mute=1&controls=0&playsinline=1&modestbranding=1&rel=0&loop=1&playlist=XpV5CmB3bvw"
        allow="autoplay; encrypted-media; picture-in-picture" allowfullscreen></iframe>
    </div>
    <i class="overlay" aria-hidden="true"></i>
  </div>

  <h3 class="media-title">Project Gallery</h3>
  <p class="media-sub">A quick visual tour of Ken Sargent House.</p>

  <!-- Masonry grid (filled by JS) -->
  <div class="media-grid" id="kshMasonry"></div>
</section>


<script>
(function(){
  // images available at /img/*.png
  const files = ["ks2.png","ks3.png","ks4.png","ks5.png","ks6.png","ks7.png","ks8.png"];
  const captions = {
    "ks2.png":"Exterior perspective",
    "ks3.png":"Garden approach",
    "ks4.png":"Roof terrace",
    "ks5.png":"Courtyard view",
    "ks6.png":"Main entry",
    "ks7.png":"Community patio",
    "ks8.png":"Evening view"
  };

  // shuffle
  for (let i = files.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [files[i], files[j]] = [files[j], files[i]];
  }

  const grid = document.getElementById('kshMasonry');
  const frag = document.createDocumentFragment();

  files.forEach(name => {
    const card = document.createElement('a');
    card.className = 'media-card';
    card.href = `img/${name}`;
    card.target = '_blank';
    card.rel = 'noopener';

    const img = document.createElement('img');
    img.src = `img/${name}`;
    img.loading = 'lazy';
    img.alt = captions[name] || 'Ken Sargent House';
    card.appendChild(img);

    const cap = document.createElement('div');
    cap.className = 'media-cap';
    cap.textContent = captions[name] || '';
    card.appendChild(cap);

    frag.appendChild(card);
  });

  grid.appendChild(frag);
})();
</script>








<!-- Header behavior: scroll progress + auto hide -->
<script>
(function(){
  const header = document.querySelector('.site-header');
  const nav    = document.querySelector('.nav');
  const links  = Array.from(document.querySelectorAll('.nav .nav-link'));
  const bar = document.createElement('div'); bar.className = 'scrollbar'; header.appendChild(bar);

  let lastY = window.scrollY, ticking = false;

  function onScroll(){
    const y  = window.scrollY;
    const dh = document.documentElement.scrollHeight - innerHeight;
    const p = dh > 0 ? (y / dh) : 0;
    bar.style.transform = `scaleX(${p})`;
    header.classList.toggle('is-compact', y > 24);

    const delta = y - lastY;
    const hide = Math.abs(delta) > 4 && y > 300 && delta > 0;
    header.classList.toggle('is-hidden', hide);
    lastY = y;
  }

  window.addEventListener('scroll', ()=>{
    if (!ticking){ requestAnimationFrame(()=>{ onScroll(); ticking = false; }); ticking = true; }
  }, {passive:true});
  onScroll();

  // Hover marker
  if (nav && links.length){
    const marker = document.querySelector('.nav-marker');
    function moveMarker(el){
      const nb = nav.getBoundingClientRect(), rb = el.getBoundingClientRect();
      marker.style.left  = (rb.left - nb.left - 4) + 'px';
      marker.style.width = (rb.width + 8) + 'px';
    }
    function toActive(){
      const active = nav.querySelector('.nav-link.active') || links[0];
      if (active) moveMarker(active);
    }
    links.forEach(a=>{
      a.addEventListener('mouseenter', ()=> moveMarker(a));
      a.addEventListener('focus',     ()=> moveMarker(a));
    });
    nav.addEventListener('mouseleave', toActive);
    window.addEventListener('resize',  toActive);
    toActive();
  }
})();
</script>

<!-- Table rows → 360 viewer -->
<script>
(function(){
  const frame = document.getElementById('panoFrame');
  document.querySelectorAll('tbody tr[data-pano]').forEach(tr=>{
    tr.tabIndex=0; tr.setAttribute('role','button');
    tr.addEventListener('click',()=>{
      const url = tr.getAttribute('data-pano'); if(!url) return;
      frame.src = url;
      document.querySelectorAll('tbody tr.active').forEach(r=>r.classList.remove('active'));
      tr.classList.add('active');
    });
    tr.addEventListener('keydown',e=>{ if(e.key==='Enter'||e.key===' '){ e.preventDefault(); tr.click(); }});
  });
})();
</script>


<script>
(function () {
  function buildKshDropdown() {
    // remove previous UI
    document.querySelectorAll('.viewer-ui').forEach(el => el.remove());

    const viewer = document.getElementById('viewer');
    const frame  = document.getElementById('panoFrame');
    if (!viewer || !frame) return;

    // UI container + select
    const ui = document.createElement('div');
    ui.className = 'viewer-ui';

    const select = document.createElement('select');
    select.id = 'panoSelect';
    select.setAttribute('aria-label','Select a panorama');

    const ph = document.createElement('option');
    ph.value = '';
    ph.textContent = 'Select a panorama';
    ph.disabled = true; ph.hidden = true; ph.selected = true;
    select.appendChild(ph);

    ui.appendChild(select);
    viewer.appendChild(ui);

    // collect rows from visible KSH tables
    const urlToRow = new Map();
    const noUrl = new Set();
    let lastValid = '';

    document.querySelectorAll('.table-wrap:not(.is-hidden)').forEach((wrap, idx) => {
      const table = wrap.querySelector('.naming-table');
      if (!table) return;

      const label =
        wrap.previousElementSibling?.querySelector('.table-title')?.textContent?.trim()
        || `Table ${idx + 1}`;

      const group = document.createElement('optgroup');
      group.label = label;

      table.querySelectorAll('tbody tr').forEach((tr, i) => {
        const name = (tr.cells?.[0]?.textContent || `Item ${i + 1}`).trim();
        const costCell = tr.querySelector('td.cost') || tr.cells?.[1];
        const rawCost = costCell ? costCell.textContent.replace(/\s+/g,' ').trim() : '';
        const labelText = rawCost ? `${name} — ${rawCost}` : name;

        const url = tr.getAttribute('data-pano') || '';
        const opt = document.createElement('option');

        if (url) { opt.value = url; urlToRow.set(url, tr); }
        else { const v = `__no_url__${idx}_${i}`; opt.value = v; noUrl.add(v); }

        opt.textContent = labelText;
        group.appendChild(opt);

        // row -> viewer
        tr.tabIndex = 0; tr.setAttribute('role','button');
        tr.addEventListener('click', () => {
          if (!url) return;
          if (select.querySelector(`option[value="${CSS.escape(url)}"]`)) {
            select.value = url; lastValid = url;
          }
          frame.src = url;
          document.querySelectorAll('.naming-table tbody tr.active').forEach(r => r.classList.remove('active'));
          tr.classList.add('active');
        });
        tr.addEventListener('keydown', e => {
          if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); tr.click(); }
        });
      });

      if (group.children.length) select.appendChild(group);
    });

    // add "Overall Panorama" if current src is not in tables
    const initialSrc = frame.getAttribute('src');
    if (!urlToRow.has(initialSrc)) {
      const quick = document.createElement('optgroup');
      quick.label = 'Quick links';
      const opt = document.createElement('option');
      opt.value = initialSrc;
      opt.textContent = 'Overall Panorama';
      quick.appendChild(opt);
      select.prepend(quick);
    }

    // select -> viewer
    select.addEventListener('change', () => {
      const val = select.value;
      if (noUrl.has(val)) {
        select.classList.add('invalid');
        setTimeout(() => select.classList.remove('invalid'), 600);
        if (lastValid && select.querySelector(`option[value="${CSS.escape(lastValid)}"]`)) {
          select.value = lastValid;
        } else {
          select.selectedIndex = 0;
        }
        return;
      }
      lastValid = val;
      document.querySelectorAll('.naming-table tbody tr.active').forEach(r => r.classList.remove('active'));
      const tr = urlToRow.get(val);
      if (tr) tr.classList.add('active');
      frame.src = val;
    });

    // init selection
    if (urlToRow.has(initialSrc)) {
      select.value = initialSrc; lastValid = initialSrc;
      urlToRow.get(initialSrc)?.classList.add('active');
    } else {
      select.selectedIndex = 1; // selects "Overall Panorama"
    }
  }

  // expose and run
  window.buildKshDropdown = buildKshDropdown;
  buildKshDropdown();

  // call again after you edit table rows dynamically
  // window.buildKshDropdown();
})();
</script>






</body>
</html>
